{% extends "accounts/accounts.html" %}
{% load static %}
{% block content %}
    <form method="post" class="login100-form validate-form">
        {% csrf_token %}
        <div class="wrap-input100 validate-input m-b-0" data-validate="">
            {{ form.old_password }}
            <span class="focus-input100"></span>
        </div>
        <div class="wrap-input100 validate-input m-b-1" data-validate="">
            {{ form.new_password1 }}
            <span class="focus-input100"></span>
	    </div>
        <div class="wrap-input100 validate-input m-b-2" data-validate="">
            {{ form.new_password2 }}
            <span class="focus-input100"></span>
        </div>
        <div class="container-login100-form-btn">
        <script>
        {% if form.errors %}
            var errors_message = {
            {% for field in form %}
                {% for error in field.errors %}
                        '{{field.name}}': '{{ error|escape }}',
                    {% endfor %}
                {% endfor %}
                
            {% endif %}
            }
            $.each(errors_message, function(key, value) {
                if(key == 'old_password') {
                    $(".m-b-0").attr('data-validate', value)
                    $(".m-b-0").addClass('alert-validate');
                }
                if(key == 'new_password1') {
                    $(".m-b-1").attr('data-validate', value)
                    $(".m-b-1").addClass('alert-validate');
                }
                if(key == 'new_password2') {
                    $(".m-b-2").attr('data-validate', value)
                    $(".m-b-2").addClass('alert-validate');
                }   
            })
        </script>
        <div class="container-login100-form-btn" style="margin-top: 15px;">
           <button class="login100-form-btn" type="submit" style="margin-right: 15px;">Update</button>
            <a href="/accounts/user/profile" class="login100-form-btn" style="cursor: pointer;">
                Profile
            </a>
        </div>
        </div>
    </form>
<script>
    $('input').addClass('input100');
    $("#id_old_password").attr('placeholder', "Old Password")
    $("#id_new_password1").attr('placeholder', 'New Password')
    $("#id_new_password2").attr('placeholder', 'Confirm Password')
</script>
{% endblock %}
